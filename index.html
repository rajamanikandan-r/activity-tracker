<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Activity Tracker</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/styles.css">
    <script src="js/storage.js" defer></script>
    <script src="js/analytics.js" defer></script>
    <script src="js/ui.js" defer></script>
    <script src="js/app.js" defer></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>Daily Activity Tracker</h1>
        </header>

        <main>
            <!-- Dashboard Section -->
            <section id="dashboard" class="section active">
                <h2>Dashboard</h2>
                <div id="stats-container" class="stats-container">
                    <!-- Stats will be populated dynamically -->
                </div>
                <div class="today-activities">
                    <h3>Today's Activities</h3>
                    <div id="today-activity-list" class="activity-list">
                        <!-- Today's activities will be displayed here -->
                        <p class="empty-state">No activities logged today</p>
                    </div>
                </div>
            </section>

            <!-- Activity Entry Section -->
            <section id="activity-entry" class="section">
                <h2>Log New Activity</h2>
                <div class="form-group">
                    <label for="action-select">Select Action</label>
                    <select id="action-select" required>
                        <!-- Actions will be populated dynamically -->
                    </select>
                </div>
                
                <!-- Dynamic Form Container -->
                <div id="dynamic-form-container">
                    <!-- Form will be generated dynamically based on selected action -->
                </div>
            </section>

            <!-- Admin Section -->
            <section id="admin" class="section">
                <h2>Manage Actions</h2>
                
                <!-- Data Management Section -->
                <div class="data-management">
                    <h3>Data Management</h3>
                    <div class="button-group">
                        <button id="export-data-btn" class="btn">Export Data</button>
                        <button id="import-data-btn" class="btn">Import Data</button>
                        <input type="file" id="import-file-input" accept=".json" style="display: none">
                    </div>
                    <div class="import-options hidden" id="import-options">
                        <p>How do you want to import the data?</p>
                        <div class="radio-group">
                            <label>
                                <input type="radio" name="import-mode" value="merge" checked>
                                Merge (add to existing data)
                            </label>
                            <label>
                                <input type="radio" name="import-mode" value="replace">
                                Replace (overwrite existing data)
                            </label>
                        </div>
                        <button id="confirm-import-btn" class="btn">Confirm Import</button>
                        <button id="cancel-import-btn" class="btn btn-secondary">Cancel</button>
                    </div>
                </div>
                
                <!-- Action List -->
                <div class="action-list-container">
                    <h3>Your Actions</h3>
                    <div class="filter-controls">
                        <select id="action-filter">
                            <option value="all">All Actions</option>
                            <option value="good">Good Habits</option>
                            <option value="bad">Bad Habits</option>
                            <option value="neutral">Neutral Actions</option>
                        </select>
                        <button id="add-action-btn" class="btn">+ Add New Action</button>
                    </div>
                    <div id="actions-list" class="action-list">
                        <!-- Actions will be listed here -->
                    </div>
                </div>
                
                <!-- Action Form (initially hidden) -->
                <div id="action-form-container" class="form-container hidden">
                    <h3 id="action-form-title">Add New Action</h3>
                    <form id="action-form">
                        <div class="form-group">
                            <label for="action-name">Action Name</label>
                            <input type="text" id="action-name" required>
                        </div>
                        <div class="form-group">
                            <label>Action Type</label>
                            <div class="radio-group">
                                <label>
                                    <input type="radio" name="action-type" value="good" required>
                                    Good Habit
                                </label>
                                <label>
                                    <input type="radio" name="action-type" value="bad">
                                    Bad Habit
                                </label>
                                <label>
                                    <input type="radio" name="action-type" value="neutral">
                                    Neutral Action
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="action-category">Category (Optional)</label>
                            <input type="text" id="action-category" placeholder="e.g., Exercise, Diet, Work">
                        </div>
                        <div class="form-group">
                            <label>Fields to Track</label>
                            <div class="checkbox-group">
                                <label>
                                    <input type="checkbox" name="action-fields" value="duration">
                                    Duration (minutes)
                                </label>
                                <label>
                                    <input type="checkbox" name="action-fields" value="type">
                                    Type (e.g., running, yoga)
                                </label>
                                <label>
                                    <input type="checkbox" name="action-fields" value="startTime">
                                    Start Time
                                </label>
                                <label>
                                    <input type="checkbox" name="action-fields" value="endTime">
                                    End Time
                                </label>
                                <label>
                                    <input type="checkbox" name="action-fields" value="notes" checked>
                                    Notes
                                </label>
                            </div>
                        </div>
                        <div class="form-buttons">
                            <button type="button" id="cancel-action-btn" class="btn btn-secondary">Cancel</button>
                            <button type="submit" class="btn">Save Action</button>
                        </div>
                    </form>
                </div>
            </section>

            <!-- History Section -->
            <section id="history" class="section">
                <h2>Activity History</h2>
                <div class="filter-controls">
                    <select id="history-filter">
                        <option value="all">All Activities</option>
                        <!-- Action options will be added dynamically -->
                    </select>
                    <button id="clear-data" class="btn btn-danger">Clear All Data</button>
                </div>
                <div id="activity-history-list" class="activity-list">
                    <!-- Activity history will be displayed here -->
                    <p class="empty-state">No activities logged yet</p>
                </div>
            </section>
        </main>

        <footer>
            <div class="navigation">
                <button class="nav-btn active" data-section="dashboard">Dashboard</button>
                <button class="nav-btn" data-section="activity-entry">Log Activity</button>
                <button class="nav-btn" data-section="history">History</button>
                <button class="nav-btn" data-section="admin">Admin</button>
            </div>
        </footer>
    </div>
</body>
</html>
